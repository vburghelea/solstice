# Update Notes

## 2026-01-04 13:44 PST

- The "Data Stewards" role described in the portal UX does not exist in code; org roles are owner/admin/reporter/viewer/member, and data quality tooling is global-admin only. The SIN portal summary cards are tailored to org role (due soon, forms, imports, join requests) rather than a dedicated data-steward dashboard. Evidence: `src/lib/auth/guards/org-guard.ts`, `src/features/data-quality/data-quality.queries.ts`, `src/routes/dashboard/sin/index.tsx`.
- The command palette is feature-flagged and its search results are limited to specific entity types, not "any page, form, or record." Evidence: `src/features/search/components/global-search-command-palette.tsx`, `src/features/search/search.schemas.ts`, `src/features/search/search.queries.ts`, `src/tenant/feature-gates.ts`.
- Form file uploads currently support a single file per field with server-side validation of type/size and client-side size checks. Multiple files are rejected, and file replacement/deletion flows are guarded by legal-hold checks. If multi-file uploads are required, the section should call this out as a current limitation. Evidence: `src/components/form-fields/ValidatedFileUpload.tsx`, `src/features/forms/forms.utils.ts`, `src/features/forms/forms.mutations.ts`.
- Form settings include "allow draft," "require approval" (auto-routes submissions to under_review), and "notify on submit" user lists, which are not mentioned in the service-approach narrative. Evidence: `src/features/forms/forms.schemas.ts`, `src/features/forms/components/form-builder-shell.tsx`, `src/features/forms/forms.mutations.ts`.
- Reporting reminders are scheduled per reporting task using `days_before` offsets (default 14/7/3/1), with a cron handler that processes scheduled notifications. Overdue counts in the portal are computed from due dates, not from an automated status update job. Evidence: `src/features/reporting/reporting.mutations.ts`, `src/lib/notifications/scheduler.ts`, `src/cron/process-notifications.ts`, `src/routes/dashboard/sin/index.tsx`.
- Analytics exports differ by module: the BI pivot/SQL exports support CSV/XLSX/JSON with step-up auth, while the report builder only supports CSV/XLSX. The section should clarify where JSON export applies. Evidence: `src/features/bi/bi.schemas.ts`, `src/features/bi/bi.mutations.ts`, `src/features/reports/reports.schemas.ts`.
