# Update Notes

## 2026-01-04 21:40 UTC

- Sub-processor list should acknowledge optional Google OAuth and Square payments (if enabled) because the residency statement enumerates them and env config includes those integrations; "no additional sub-processors" is too absolute. Evidence: `docs/sin-rfp/phase-0/data-residency.md`, `src/lib/env.server.ts`.
- Encryption at rest wording should clarify the S3 artifacts bucket currently uses SSE-S3 in sin-dev and KMS is optional via `SIN_ARTIFACTS_KMS_KEY_ID`; "customer-managed keys" for S3/backups is not enforced in infra config. Evidence: `docs/sin-rfp/review-plans/evidence/ENCRYPTION-STATUS-sin-dev-20251231.md`, `sst.config.ts`, `src/lib/env.server.ts`, `src/features/privacy/privacy.mutations.ts`, `src/lib/privacy/retention.ts`.
- Glacier Deep Archive vs Glacier: lifecycle config transitions artifacts bucket objects to GLACIER after 90 days, while the audit archive job writes audit batches with `StorageClass=DEEP_ARCHIVE`; clarify the mixed behavior and stage-specific evidence. Evidence: `sst.config.ts`, `src/lib/privacy/retention.ts`, `docs/sin-rfp/phase-0/audit-retention-policy.md`.
- DR evidence: sin-dev drill shows RPO not met due daily snapshots and RTO about 5 minutes, while backup/restore test shows about 25 minutes; mark RPO/RTO "tested" as dev-only evidence and keep production targets as planned. Evidence: `docs/sin-rfp/review-plans/evidence/DR-DRILL-sin-dev-20251230.md`, `docs/sin-rfp/review-plans/backup-restore-test-results.md`, `docs/sin-rfp/phase-0/backup-dr-plan.md`, `sst.config.ts`.
- Tenancy scoping for analytics is enforced via curated views and SQL workbench session settings, not blanket DB-level RLS across all tables; tighten wording from "every database query is scoped" to "analytics queries are scoped via views + session context." Evidence: `src/features/bi/docs/sql-workbench-dba-setup.sql`, `src/features/bi/bi.sql-executor.ts`, `src/features/bi/governance/org-scoping.ts`.
- Data residency evidence could be cited explicitly from infra and runtime defaults (AWS region pinned to ca-central-1, S3 client default region) to support the residency claim. Evidence: `sst.config.ts`, `src/lib/storage/artifacts.ts`, `docs/sin-rfp/phase-0/data-residency.md`.
