# Update Notes

## 2026-01-04 21:44 UTC

- The testing layer table currently implies Playwright E2E and performance checks run on every commit. CI only runs lint/type/coverage, and pre-commit runs unit tests; E2E/perf are manual and documented as pre-commit or pre-release steps. Update the frequency text accordingly. Evidence: `.github/workflows/ci.yml`, `.husky/pre-commit`, `docs/E2E-BEST-PRACTICES.md`, `package.json`, `performance/README.md`, `playwright.config.ts`.
- Load-test and Lighthouse results in the QA section list zero server errors and "date TBD"; the latest report shows 9.4% errors at 25 VUs (0% at 10 VUs) and FCP at 2135ms (warn). Update the metrics table to match the actual run and include the 2025-12-31 test date. Evidence: `performance/PERFORMANCE-REPORT.md`, `performance/load-tests/api-load.js`.
- Property-based testing is not "custom-only" anymore; it uses `fast-check` and also covers step-up auth and BI aggregation invariants in addition to access control and audit integrity. Expand the scope note and reference `fast-check` explicitly. Evidence: `package.json`, `src/lib/auth/guards/__tests__/step-up.pbt.test.ts`, `src/features/bi/engine/__tests__/aggregations.property.test.ts`, `src/features/roles/__tests__/permission.service.pbt.test.ts`, `src/features/organizations/__tests__/organizations.access.pbt.test.ts`, `src/lib/audit/__tests__/audit-hash-chain.pbt.test.ts`.
- Security testing lists "concurrent session limits," but the auth config only enforces session expiry and step-up checks; no concurrency cap is configured. Clarify this row to avoid overstating. Evidence: `src/lib/auth/server-helpers.ts`, `src/lib/auth/middleware/auth-guard.ts`, `src/lib/auth/guards/step-up.ts`.
- "Integration tests for database operations/API endpoints" are mostly service-level tests with mocked DB and server-function wiring rather than live DB integration. Tighten the wording so it doesn't imply full database integration coverage. Evidence: `src/tests/setup.ts`, `src/features/reports/__tests__/reports.integration.test.ts`, `src/features/reporting/__tests__/reporting.integration.test.ts`, `src/features/privacy/__tests__/privacy.integration.test.ts`.
- E2E coverage in the QA section calls out "data submission and reporting" as critical flows; the current suite exercises auth, MFA step-up, report export, file validation, and import preview, but not full submission/reporting flows with seeded data. Update the coverage list to reflect the actual E2E scenarios and dependencies. Evidence: `e2e/tests/unauthenticated/auth-flow.unauth.spec.ts`, `e2e/tests/authenticated/mfa-step-up.auth.spec.ts`, `e2e/tests/authenticated/report-export.auth.spec.ts`, `e2e/tests/authenticated/file-upload-validation.auth.spec.ts`, `e2e/tests/authenticated/sin-admin-imports-preview.auth.spec.ts`, `docs/sin-rfp/review-plans/requirements-verification-report-2025-12-28.md`.
